<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Friend Finder App </title>

      <!-- This bootstrap style   -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
           <!-- Link in jQuery and Bootstrap JS  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </head>
<body>
    <div class="container">
        <!-- Quiz Page Title -->
        <div class="page-header">
            <h1 style="font-size: 45px;"> Friend Finder Quiz</h1>
        </div> 
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        <strong>About You</strong>
                    </h3>
                </div>
            <div class="panel-body">
                <h4>Your Full Name</h4>
                <div class="input-group">
                    <input id="formName" class="form-control" type="text" name="name" placeholder="Name">
                    <span class="input-group-addon">(Required)</span>
                </div>
                <br>
                <h4>Link to a Photo Image</h4>
                <div class="input-group">
                    <input id="formImage" class="form-control" type="text" name="name" placeholder="http://link_to_photo.jpg/">
                    <span class="input-group-addon">(Required)</span>
                </div>
            </div>
        </div>
        <!--Question Panel-->
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">
                    <strong>Would you rather .... </strong>
                </h3>
            </div>
            <div class="panel-body">
                <!-- Q1 -->
                <h4>
                    <strong>Question 1</strong>
                </h4>
                <h5>Would you rather fight 100 duck sized horses or 1 horse sized duck?</h5>
                <select data-placeholder="" class="chosen-select" id="Q1" >
                    <option value=""></option>
                    <option value="1">1 (Strongly Duck)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Horse)</option>
                </select>
                <!-- Q2 -->
                <h4>
                    <strong>Question 2</strong>
                </h4>
                <h5>Would you rather live one life that lasts 1,000 years or live 10 lives that last 100 years each?</h5>
                <select data-placeholder="" class="chosen-select" id="Q2">
                    <option value=""></option>
                    <option value="1">1 (Strongly 1 life)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly 5 lives)</option>
                </select>
                <!-- Q3 -->
                <h4>
                    <strong>Question 3</strong>
                </h4>
                <h5>Would you rather be a horrible dancer or a horrible singer?</h5>
                <select data-placeholder="" class="chosen-select" id="Q3">
                    <option value=""></option>
                    <option value="1">1 (Strongly Horrible Dancer )</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Horrible Singer)</option>
                </select>
                <!-- Q4 -->
                <h4>
                    <strong>Question 4</strong>
                </h4>
                <h5>Would you rather wear a snow suit in the desert or be naked in Antarctica?</h5>
                <select data-placeholder="" class="chosen-select" id="Q4">
                    <option value=""></option>
                    <option value="1">1 (Strongly Snow Suit)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Naked)</option>
                </select>
                <!-- Q5 -->
                <h4>
                    <strong>Question 5</strong>
                </h4>
                <h5>You're in a crowded room, would you rather fart loudly and everyone laughs at you or be the only one laughing obnoxiously when someone else farts?</h5>
                <select data-placeholder="" class="chosen-select" id="Q5">
                    <option value=""></option>
                    <option value="1">1 (Strongly Farter)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Laugher)</option>
                </select>
                <!-- Q6 -->
                <h4>
                    <strong>Question 6</strong>
                </h4>
                <h5>Would you rather be able to speak fluently every language in the world or be the best in the world at something of your choosing?</h5>
                <select data-placeholder="" class="chosen-select" id="Q6">
                    <option value=""></option>
                    <option value="1">1 (Strongly Fluent)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Best in the world)</option>
                </select>
                <!-- Q7 -->
                <h4>
                    <strong>Question 7</strong>
                </h4>
                <h5>Would you rather Be the funniest person in the room or the most intelligent?</h5>
                <select data-placeholder="" class="chosen-select" id="Q7">
                    <option value=""></option>
                    <option value="1">1 (Strongly Funniest)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Intelligent)</option>
                </select>
                <!-- Q8 -->
                <h4>
                    <strong>Question 8</strong>
                </h4>
                <h5>Would you rather change the past or be able to see into the future?</h5>
                <select data-placeholder="" class="chosen-select" id="Q8">
                    <option value=""></option>
                    <option value="1">1 (Strongly Past)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Future)</option>
                </select>
                <!-- Q9 -->
                <h4>
                    <strong>Question 9</strong>
                </h4>
                <h5>Would you rather have a horseâ€™s tail or a unicorn horn?</h5>
                <select data-placeholder="" class="chosen-select" id="Q9">
                    <option value=""></option>
                    <option value="1">1 (Strongly Horse)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Unicorn)</option>
                </select>
                <!-- Q10 -->
                <h4>
                    <strong>Question 10</strong>
                </h4>
                <h5>Would you rather give up alcohol for a year or give up your smartphone for a month?</h5>
                <select data-placeholder="" class="chosen-select" id="Q10">
                    <option value=""></option>
                    <option value="1">1 (Strongly Alcohol)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Smartphone)</option>
                </select>
            </div>
        </div>
        <!-- Submit Button -->
        <button id="submit" type="submit" class="btn.btn-primary.btn-lg btn-block">
            <h4>
                <span class="glyphicon glyphicon-send"></span> Submit</h4>
        </button>
        <br>
        <!-- TODO add link to Git Hub  -->
        <!-- Footer -->
        <footer class="footer">
            <p>
                <a href="/api/friends">API Friends List</a> |
                <a href="github" target="_blank">GitHub Repo</a> |
                <a href="/">Home</a>
            </p>
        </footer>
        <!-- Friend found bootstrap Modal -->
       	
	<div id="resultsModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
  
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h2 class="modal-title">Best Match</h2>
            </div>
            <div class="modal-body">
              <h2 id="matchName"></h2>
              <img id="matchImg" src="" alt="">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div>
  
        </div>
      </div>
    </div>
    <!-- Link in jQuery and Bootstrap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- JavaScript for Submission Logic -->
    <script>
        //on click event to handel the submit button 
  $('#submit').on('click', function() {
    //   console.log('You are in the on click function');
          
      var newFriend = {
        name: $('#formName').val().trim(),
        profilePic: $('#formImage').val().trim(),
        answers: [
          $('#Q1').val(),
          $('#Q2').val(),
          $('#Q3').val(),
          $('#Q4').val(),
          $('#Q5').val(),
          $('#Q6').val(),
          $('#Q7').val(),
          $('#Q8').val(),
          $('#Q9').val(),
          $('#Q10').val()
        ]
      }
    //   console.log("newFriend: "+newFriend);
      
            //jquery/AJAX for post 
            $.post(window.location.href.replace('/survey', '/api/friends'), newFriend, function(data) {

                // Grab the result from the AJAX post so that the best match's name and photo are displayed.
                $("#matchName").text(data.name);
                $('#matchImg').attr("src", data.profilePic);

                //display the modal with the best match 
                $("#resultsModal").modal('toggle');
      });
    });
    </script>

</body>


</html>